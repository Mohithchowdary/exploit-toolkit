#!/data/data/com.termux/files/usr/bin/bash
clear
echo "Exploit-Toolkit"
echo "updated on 26,March,2018"
echo " "
echo "This toolkit enables you to auto download & install the exploiting tools like Metasploit,Tmux-bunch,etc.currently we're unable to provide you all the necessary tools which are required for exploiting.But don't worry we will let you update soon"
echo " "
echo "NOTE:You are Installing"
echo "   1.Metasploit-framework"
echo "   2.Tmux-Bunch"
echo " some more additional packages "
echo " "
echo "please don't go away see is everything installing perfectly or not"
sleep 15
clear
echo "connecting to the database server..."
sleep 2
echo "connection established..."
sleep 2
echo "gathering all the required information..."
echo "please wait while downloading..."
pkg install ruby
gem install lolcat
pkg install figlet
clear
echo "This Script was Ported by Hax4us" |lolcat
echo "Modified by Mohith Chowdary" |lolcat
echo "           "      
echo "Your Good Name please?" |lolcat
echo "please enter your name below" |lolcat
read USER
clear
figlet $USER |lolcat
echo "Hey $USER, Make sure you are connected to the fastest internet connection.If you get any error's while installing then it's not our fault.We have ported everything successfully." |lolcat
sleep 15
echo "your download is about to start in 5 sec"
sleep 5
echo "Installing Metasploit framework..." |lolcat
echo "##############################################" |lolcat

echo "Download started"
echo "Wait for a while.It may take a couple of minutes..."
sleep 10
echo "*** Do not interrupt this process ***" |lolcat
sleep 4
echo "#####################################"|lolcat
sleep 2
apt install -y autoconf bison clang coreutils curl findutils git apr apr-util libffi-dev libgmp-dev libpcap-dev postgresql-dev readline-dev libsqlite-dev openssl-dev libtool libxml2-dev libxslt-dev ncurses-dev pkg-config postgresql-contrib wget make ruby-dev libgrpc-dev termux-tools ncurses-utils ncurses unzip zip tar postgresql termux-elf-cleaner
echo "####################################"
apt update && apt upgrade
echo "Downloading & Extracting....."

cd $HOME
curl -LO https://github.com/rapid7/metasploit-framework/archive/4.16.16.tar.gz
tar -xf $HOME/4.16.16.tar.gz
mv $HOME/metasploit-framework-4.16.16 $HOME/metasploit-framework
rm $HOME/4.16.16.tar.gz
cd $HOME/metasploit-framework
sed '/rbnacl/d' -i Gemfile.lock
sed '/rbnacl/d' -i metasploit-framework.gemspec
gem install bundler
sed 's|nokogiri (1.*)|nokogiri (1.8.0)|g' -i Gemfile.lock

gem install nokogiri -v 1.8.0 -- --use-system-libraries
 
#sed 's|grpc (.*|grpc (1.4.1)|g' -i $HOME/metasploit-framework/Gemfile.lock
#gem unpack grpc -v 1.4.1
#cd grpc-1.4.1
#curl -LO https://raw.githubusercontent.com/grpc/grpc/v1.4.1/grpc.gemspec
#curl -L https://raw.githubusercontent.com/Hax4us/Hax4us.github.io/master/extconf.patch
#patch -p1 < extconf.patch
#gem build grpc.gemspec
#gem install grpc-1.4.1.gem
#cd ..
#rm -r grpc-1.4.1


cd $HOME/metasploit-framework
bundle install -j5
$PREFIX/bin/find -type f -executable -exec termux-fix-shebang \{\} \;
rm ./modules/auxiliary/gather/http_pdf_authors.rb
if [ -e $PREFIX/bin/msfconsole ];then
	rm $PREFIX/bin/msfconsole
fi
if [ -e $PREFIX/bin/msfvenom ];then
	rm $PREFIX/bin/msfvenom
fi
ln -s $HOME/metasploit-framework/msfconsole /data/data/com.termux/files/usr/bin/
ln -s $HOME/metasploit-framework/msfvenom /data/data/com.termux/files/usr/bin/
termux-elf-cleaner /data/data/com.termux/files/usr/lib/ruby/gems/2.4.0/gems/pg-0.20.0/lib/pg_ext.so
echo "Creating database"

cd $HOME/metasploit-framework/config
curl -LO https://raw.githubusercontent.com/Hax4us/Metasploit_termux/master/database.yml

mkdir -p $PREFIX/var/lib/postgresql
initdb $PREFIX/var/lib/postgresql

pg_ctl -D $PREFIX/var/lib/postgresql start
createuser msf
createdb msf_database
clear

echo "Installing Tmux-Bunch" |lolcat
sleep 3
cd $HOME
echo "***Do not interrupt this process***" |lolcat
git clone https://github.com/Hax4us/Tmux-Bunch.git
cd $HOME
cd Tmux-Bunch
ls
chmod +x setup
./setup
cd $HOME
clear

cd ..
cd usr
cd etc
rm bash.bashrc
cp $HOME/exploit-toolkit/bash.bashrc .
cd $HOME
clear
figlet Hax4us |lolcat
figlet MOHITH |lolcat

echo "Thanks for Installing our script $user"
sleep 5

clear

figlet $USER |lolcat
echo " "
echo "congrats $USER,you have successfully installed Metasploit-framework as well as Tmux-bunch" |lolcat
echo " "
echo "We have also installed" |lolcat
echo "  1.lolcat" |lolcat
echo "  2.git"  |lolcat
echo "  3.figlet" |lolcat
echo "and some more packages that can help you out..." |lolcat
echo " "
echo "***OUR YOUTUBE CHANNELS***"
echo " "
echo "Please subscribe to Hax4us YouTube channel" |lolcat 
echo "and also to MC INTERNATIONAL YT channel" |lolcat
echo " "
echo ">>>DEVELOPERS<<<"
echo " "
echo "Script ported by Hax4us Devil (Lokesh)" |lolcat
echo "Script Modified by Mohith chowdary (MC)" |lolcat
echo " "
echo "please let us know if you are facing any" |lolcat 
echo "problem while installing..." |lolcat
echo " "
echo "  WhatsApp: +919491555177" |lolcat
echo " "
echo "***DONATE***"
echo " "
echo "contribute via Paytm:+919491555177" |lolcat
echo " "
echo "you can also send us via" |lolcat      
echo "PayPal:mohithchowdary.inc@gmail.com" |lolcat
echo " "
echo "//////////////////////////////////////////"
echo "Start Exploiting Today with exploit-toolkit" |lolcat 
echo "//////////////////////////////////////////"
echo " "
echo "Exploit-Toolkit copyright Â© 2018 "
echo " "
echo "Bye $USER.Now you can use Metasploit-framework & Tmux-Bunch in 40 sec in the mean while read all above details"
sleep "45"
clear
figlet $USER |lolcat
date |lolcat
echo " "
echo "type >msfconsole to start Metasploit"
echo "type >tmuxbunch to start Tmux-Bunch"
echo " "
ls
echo " "